'use strict';const a23_0x3976be=a23_0x370e;(function(_0x2152d2,_0x1e575d){const _0x3574ab=a23_0x370e,_0x48af3d=_0x2152d2();while(!![]){try{const _0xcc4f96=-parseInt(_0x3574ab(0x1a8))/0x1+-parseInt(_0x3574ab(0x19f))/0x2+-parseInt(_0x3574ab(0x1a2))/0x3+parseInt(_0x3574ab(0x1ab))/0x4*(-parseInt(_0x3574ab(0x19d))/0x5)+-parseInt(_0x3574ab(0x19e))/0x6*(-parseInt(_0x3574ab(0x1a4))/0x7)+-parseInt(_0x3574ab(0x19c))/0x8+parseInt(_0x3574ab(0x1af))/0x9;if(_0xcc4f96===_0x1e575d)break;else _0x48af3d['push'](_0x48af3d['shift']());}catch(_0x8e04fb){_0x48af3d['push'](_0x48af3d['shift']());}}}(a23_0x3e60,0x46b47));function a23_0x370e(_0x31e95e,_0x55019e){const _0x3e60d6=a23_0x3e60();return a23_0x370e=function(_0x370e3c,_0x2064ee){_0x370e3c=_0x370e3c-0x19a;let _0x14f03e=_0x3e60d6[_0x370e3c];return _0x14f03e;},a23_0x370e(_0x31e95e,_0x55019e);}var __importDefault=this&&this['__importDefault']||function(_0x11be4e){const _0x2213f9=a23_0x370e;return _0x11be4e&&_0x11be4e[_0x2213f9(0x1ae)]?_0x11be4e:{'default':_0x11be4e};};Object[a23_0x3976be(0x1a6)](exports,a23_0x3976be(0x1ae),{'value':!![]}),exports[a23_0x3976be(0x1aa)]=void 0x0;const jsonwebtoken_1=__importDefault(require('jsonwebtoken')),Global_1=require('../../common/Global'),Config_1=require(a23_0x3976be(0x1a3));function a23_0x3e60(){const _0x1398e8=['defineProperty','_id','351399TBWjBh','JWT_EXPIRES_IN','ApiLogin','274216kRYydK','req','g_global','__esModule','16877961yzOBXJ','username','用户名或密码错误','error','3681912LseAti','30cuQsrL','17778AfOqIv','677352ugHOKA','sign','g_config','1521159lVMJDq','../../common/Config','1141mUnslT','users_col'];a23_0x3e60=function(){return _0x1398e8;};return a23_0x3e60();}async function ApiLogin(_0x39bae9){const _0x4c4024=a23_0x3976be,_0x598816={'cDvBd':_0x4c4024(0x19a)},{username:_0x1800a2,password:_0x2553c3}=_0x39bae9[_0x4c4024(0x1ac)],_0x1e2548=await Global_1[_0x4c4024(0x1ad)][_0x4c4024(0x1a5)]['findOne']({'username':_0x1800a2,'password':_0x2553c3});if(!_0x1e2548){_0x39bae9[_0x4c4024(0x19b)](_0x598816['cDvBd']);return;}const _0xa07882=jsonwebtoken_1['default'][_0x4c4024(0x1a0)]({'userId':_0x1e2548[_0x4c4024(0x1a7)],'username':_0x1e2548[_0x4c4024(0x1b0)]},Config_1[_0x4c4024(0x1a1)]['JWT_SECRET'],{'expiresIn':Config_1[_0x4c4024(0x1a1)][_0x4c4024(0x1a9)]});_0x39bae9['succ']({'userId':_0x1e2548[_0x4c4024(0x1a7)],'token':_0xa07882});}exports[a23_0x3976be(0x1aa)]=ApiLogin;