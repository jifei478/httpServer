'use strict';const a45_0x3c7be5=a45_0x5294;function a45_0x5294(_0x3744d6,_0x263337){const _0x41a29d=a45_0x41a2();return a45_0x5294=function(_0x52946e,_0xce0e65){_0x52946e=_0x52946e-0x18d;let _0x19df18=_0x41a29d[_0x52946e];return _0x19df18;},a45_0x5294(_0x3744d6,_0x263337);}(function(_0x13feb8,_0x213fe7){const _0x40f42d=a45_0x5294,_0x46bb6c=_0x13feb8();while(!![]){try{const _0x15d174=parseInt(_0x40f42d(0x1b9))/0x1+-parseInt(_0x40f42d(0x1c0))/0x2+parseInt(_0x40f42d(0x1bd))/0x3+parseInt(_0x40f42d(0x1b8))/0x4*(-parseInt(_0x40f42d(0x1b5))/0x5)+-parseInt(_0x40f42d(0x1a8))/0x6*(-parseInt(_0x40f42d(0x18d))/0x7)+parseInt(_0x40f42d(0x1a5))/0x8+-parseInt(_0x40f42d(0x19c))/0x9;if(_0x15d174===_0x213fe7)break;else _0x46bb6c['push'](_0x46bb6c['shift']());}catch(_0x1cb91b){_0x46bb6c['push'](_0x46bb6c['shift']());}}}(a45_0x41a2,0x682bb));Object[a45_0x3c7be5(0x1b7)](exports,a45_0x3c7be5(0x1a4),{'value':!![]}),exports[a45_0x3c7be5(0x195)]=exports[a45_0x3c7be5(0x190)]=void 0x0;const SingleBase_1=require(a45_0x3c7be5(0x18f)),SingleFactory_1=require(a45_0x3c7be5(0x193)),GameConfigMgr_1=require(a45_0x3c7be5(0x1b2)),RandomUtil_1=require('../../../common/utils/RandomUtil');class EquipFactory extends SingleBase_1[a45_0x3c7be5(0x19a)]{[a45_0x3c7be5(0x19b)](_0x9717b){const _0x30c9cd=a45_0x3c7be5,_0x195d3b={'KnxWe':function(_0x3f0411,_0xa4a9de){return _0x3f0411!==_0xa4a9de;},'GHZga':function(_0x1c7bcb,_0xdb0493){return _0x1c7bcb!==_0xdb0493;}},_0x211c28=GameConfigMgr_1[_0x30c9cd(0x1bf)][_0x30c9cd(0x1aa)][_0x9717b];if(!_0x211c28)return 0x1;const _0x19d973=[{'type':0x1,'weight':_0x211c28[_0x30c9cd(0x1c3)]},{'type':0x2,'weight':_0x211c28[_0x30c9cd(0x1a3)]},{'type':0x3,'weight':_0x211c28[_0x30c9cd(0x1bc)]},{'type':0x4,'weight':_0x211c28[_0x30c9cd(0x1ac)]}],_0x38a5c7=RandomUtil_1['g_randomUtil']['pickByWeight'](_0x19d973[_0x30c9cd(0x1ae)](_0xc4aadc=>({'item':_0xc4aadc[_0x30c9cd(0x19d)],'weight':_0xc4aadc[_0x30c9cd(0x18e)]})));return _0x195d3b['KnxWe'](_0x38a5c7,null)&&_0x195d3b[_0x30c9cd(0x1ba)](_0x38a5c7,void 0x0)?_0x38a5c7:0x1;}['getEquipTpl'](_0x11c11c,_0x4d0930,_0x1a796e){const _0x22b26b=a45_0x3c7be5,_0x3178c0={'QNooD':function(_0x272a9f,_0x450a13){return _0x272a9f===_0x450a13;},'AApyV':function(_0x36ca7c,_0x43f606){return _0x36ca7c!==_0x43f606;}},_0x1a62e9=Object[_0x22b26b(0x1c1)](GameConfigMgr_1[_0x22b26b(0x1bf)][_0x22b26b(0x1a7)])[_0x22b26b(0x19e)](_0x425bc4=>_0x425bc4[_0x22b26b(0x191)]===_0x11c11c&&(_0x425bc4[_0x22b26b(0x1bb)]===0x0||_0x425bc4[_0x22b26b(0x1bb)]<=_0x4d0930)&&(_0x425bc4[_0x22b26b(0x19f)]===0x0||_0x425bc4[_0x22b26b(0x19f)]<=_0x1a796e));if(_0x3178c0[_0x22b26b(0x1c4)](_0x1a62e9['length'],0x0))return null;const _0x208b40=RandomUtil_1[_0x22b26b(0x194)][_0x22b26b(0x1ad)](_0x1a62e9['map'](_0x25db3f=>({'item':_0x25db3f,'weight':_0x25db3f['Weight']||0x0})));return _0x208b40!==null&&_0x3178c0['AApyV'](_0x208b40,void 0x0)?_0x208b40:null;}[a45_0x3c7be5(0x1c2)](_0x1fa8ae,_0x337a4c,_0x1ad2fb){const _0x44d8c6=a45_0x3c7be5,_0x1e6692={'qoIKj':function(_0x222019,_0x268cda){return _0x222019===_0x268cda;},'XAZXX':function(_0x7213b8,_0x4ecd94){return _0x7213b8!==_0x4ecd94;},'GpMQn':function(_0x5aca18,_0x381c84){return _0x5aca18!==_0x381c84;},'ytSOS':function(_0xa571a9,_0x28f216){return _0xa571a9!==_0x28f216;},'mfito':function(_0x4a4656,_0x2cf7c5){return _0x4a4656+_0x2cf7c5;},'LnGdU':function(_0xd9fb4a,_0x2949f6){return _0xd9fb4a*_0x2949f6;},'TagcL':function(_0x1cd2b0,_0x159a8b){return _0x1cd2b0+_0x159a8b;}};var _0x3d198b,_0xf0ff9d;const _0x57f17e=GameConfigMgr_1['g_gameConfigMgr'][_0x44d8c6(0x1b1)][_0x337a4c],_0x1747bd=GameConfigMgr_1[_0x44d8c6(0x1bf)][_0x44d8c6(0x1c5)][_0x1ad2fb];if(!_0x57f17e||!_0x1747bd)return{'equipLevel':0x1,'equipReqLevel':0x1};let _0x10ab73=_0x1fa8ae;const _0x40f983=_0x57f17e[_0x44d8c6(0x196)];if(_0x40f983===0x2)_0x10ab73+=0x2;if(_0x1e6692[_0x44d8c6(0x1be)](_0x40f983,0x3))_0x10ab73+=0x3;const _0x1d023b=_0x1e6692[_0x44d8c6(0x1a0)](_0x3d198b={0x1:[0.9,1.1],0x2:[1.1,1.3],0x3:[1.3,1.5]}[_0x40f983],null)&&_0x1e6692[_0x44d8c6(0x1a9)](_0x3d198b,void 0x0)?_0x3d198b:[0x1,0x1],_0x420cb8=RandomUtil_1[_0x44d8c6(0x194)][_0x44d8c6(0x1ab)](_0x1d023b[0x0],_0x1d023b[0x1]),_0x19ad3b=RandomUtil_1[_0x44d8c6(0x194)]['randFloat'](0.95,1.05),_0x2650e8=_0x1e6692['ytSOS'](_0xf0ff9d=_0x1747bd[_0x44d8c6(0x1a2)],null)&&_0xf0ff9d!==void 0x0?_0xf0ff9d:0x0,_0x6341d6=_0x1e6692[_0x44d8c6(0x198)](_0x1e6692[_0x44d8c6(0x199)](_0x10ab73,_0x420cb8)*_0x19ad3b,_0x2650e8),_0x1d5b07=Math['ceil'](_0x6341d6),_0x40a753=Math[_0x44d8c6(0x1b0)](0x1,_0x1e6692['TagcL'](_0x1d5b07,RandomUtil_1[_0x44d8c6(0x194)][_0x44d8c6(0x1af)](-0x3,0x3)));return{'equipLevel':_0x1d5b07,'equipReqLevel':_0x40a753};}['calcAffixCount'](_0x5b037b){const _0x374c17=a45_0x3c7be5,_0x47ea40={'mCldy':function(_0xaa0b71,_0xc20e37){return _0xaa0b71===_0xc20e37;},'XYQVI':function(_0x1c2d23,_0xeb2aad){return _0x1c2d23===_0xeb2aad;},'xohLk':function(_0x238811,_0x31b129){return _0x238811<_0x31b129;},'aEzsU':function(_0x15bb0f,_0x260120){return _0x15bb0f>_0x260120;}},_0x24c17e=GameConfigMgr_1[_0x374c17(0x1bf)][_0x374c17(0x1b6)][_0x5b037b],_0x5c9ca8=_0x47ea40[_0x374c17(0x1b3)](_0x24c17e,null)||_0x47ea40['XYQVI'](_0x24c17e,void 0x0)?void 0x0:_0x24c17e[_0x374c17(0x1a6)];if(!_0x5c9ca8||_0x5c9ca8['length']===0x0)return 0x0;let _0x425dbf=0x0;for(;_0x47ea40['xohLk'](_0x425dbf,_0x5c9ca8[_0x374c17(0x192)]);_0x425dbf++){if(_0x47ea40[_0x374c17(0x197)](Math['random'](),_0x5c9ca8[_0x425dbf]/0x2710))return _0x425dbf;}return _0x425dbf;}}exports['EquipFactory']=EquipFactory,exports[a45_0x3c7be5(0x195)]=SingleFactory_1[a45_0x3c7be5(0x1b4)][a45_0x3c7be5(0x1a1)](EquipFactory);function a45_0x41a2(){const _0x46e5e9=['max','Monster','../../../gameConfig/GameConfigMgr','mCldy','SingleFactory','17580oQwmQc','EquipQualityMgr','defineProperty','548reORfs','151730oiudbW','GHZga','QualityThreshold','RareChance','966927nyysRr','qoIKj','g_gameConfigMgr','96900rCNleK','values','calcEquipLevel','NormalChance','QNooD','Map','1407YpfjmL','weight','../../../core/base/SingleBase','EquipFactory','EquipType','length','../../../core/manager/SingleFactory','g_randomUtil','g_equipFactory','MonType','aEzsU','mfito','LnGdU','SingleBase','getEquipQualityByAdvLvl','9496827gFnuTC','type','filter','MapRestrict','XAZXX','getInstance','EquipLvlBonus','MagicChance','__esModule','5789904tFaouk','AffixCount','EquipTpl','24306HKenCg','GpMQn','AdvLvlMgr','randFloat','LegendaryChance','pickByWeight','map','randInt'];a45_0x41a2=function(){return _0x46e5e9;};return a45_0x41a2();}