'use strict';const a43_0x4d8540=a43_0x4d56;function a43_0x4d56(_0x1846b0,_0x5b7735){const _0x38ae09=a43_0x38ae();return a43_0x4d56=function(_0x4d5663,_0x5b3959){_0x4d5663=_0x4d5663-0xb2;let _0x5be562=_0x38ae09[_0x4d5663];return _0x5be562;},a43_0x4d56(_0x1846b0,_0x5b7735);}(function(_0x5280e7,_0x55ec1a){const _0x26dc70=a43_0x4d56,_0x40f060=_0x5280e7();while(!![]){try{const _0x3f77dd=parseInt(_0x26dc70(0xcc))/0x1+parseInt(_0x26dc70(0xf6))/0x2+-parseInt(_0x26dc70(0xc5))/0x3*(-parseInt(_0x26dc70(0xc9))/0x4)+-parseInt(_0x26dc70(0xc7))/0x5*(parseInt(_0x26dc70(0xe6))/0x6)+parseInt(_0x26dc70(0xdb))/0x7*(-parseInt(_0x26dc70(0xc0))/0x8)+parseInt(_0x26dc70(0xc3))/0x9+-parseInt(_0x26dc70(0xd7))/0xa;if(_0x3f77dd===_0x55ec1a)break;else _0x40f060['push'](_0x40f060['shift']());}catch(_0x483f5b){_0x40f060['push'](_0x40f060['shift']());}}}(a43_0x38ae,0xcebda));Object[a43_0x4d8540(0xde)](exports,a43_0x4d8540(0xf0),{'value':!![]}),exports[a43_0x4d8540(0xc6)]=exports[a43_0x4d8540(0xda)]=void 0x0;const SingleBase_1=require(a43_0x4d8540(0xc2)),SingleFactory_1=require(a43_0x4d8540(0xe3)),GameConfigMgr_1=require(a43_0x4d8540(0xdf));class AffixFactory extends SingleBase_1['SingleBase']{['init'](){}[a43_0x4d8540(0xd8)](_0x24f10c,_0x2d0dfa,_0x4dad12,_0x5ce899,_0x37de14){const _0x2c0918=a43_0x4d8540,_0x2ccc9f={'Diccr':function(_0x3c8e2f,_0x318a79){return _0x3c8e2f===_0x318a79;},'XmuZQ':function(_0x30a14d,_0x27eeab){return _0x30a14d===_0x27eeab;},'LmpDf':function(_0x1c97f2,_0x3820ce){return _0x1c97f2<=_0x3820ce;},'EmvMs':function(_0x30aa05,_0x5874b0){return _0x30aa05!==_0x5874b0;},'iIXEM':function(_0x492f1f,_0x21a34e){return _0x492f1f===_0x21a34e;},'bcCMZ':function(_0x1d6b44,_0x403182){return _0x1d6b44-_0x403182;},'PwznK':function(_0xa14d71,_0x5f4a0e){return _0xa14d71===_0x5f4a0e;},'DRraC':function(_0x53d972,_0x46b468){return _0x53d972!==_0x46b468;},'doWao':function(_0x19e7c,_0x5509dd){return _0x19e7c-_0x5509dd;},'oXoEQ':function(_0x362ed1,_0x4f2b18){return _0x362ed1===_0x4f2b18;},'evGQB':function(_0x417d6c,_0x4ab42b){return _0x417d6c(_0x4ab42b);},'DMtdg':function(_0x355c1f,_0x4182a7){return _0x355c1f(_0x4182a7);},'OOzRz':function(_0x26dfd7,_0x43e8b7){return _0x26dfd7<_0x43e8b7;},'pmkjh':function(_0x620da6,_0x1678cd){return _0x620da6<_0x1678cd;},'Svhxq':function(_0x54f330,_0x14e5d9){return _0x54f330(_0x14e5d9);},'NlDeC':function(_0x37d833,_0x3c8901){return _0x37d833(_0x3c8901);}};var _0x3ba5b3,_0x2bf1a2,_0x1fab46;const _0x230482=_0x24f10c['AffixGroupId'][_0x2ccc9f['doWao'](_0x2d0dfa,0x1)],_0x57238c=(_0x3ba5b3=GameConfigMgr_1[_0x2c0918(0xe9)][_0x2c0918(0xe7)][_0x230482])!==null&&_0x2ccc9f['DRraC'](_0x3ba5b3,void 0x0)?_0x3ba5b3:[],_0x8deac9=_0x57238c[_0x2c0918(0xd2)](_0x5d6d0f=>(_0x5d6d0f[_0x2c0918(0xb4)]===0x0||_0x5d6d0f[_0x2c0918(0xb4)]<=_0x5ce899)&&(_0x5d6d0f[_0x2c0918(0xd6)]===0x0||_0x5d6d0f[_0x2c0918(0xd6)]<=_0x37de14)),_0x110734=new Map();for(const _0xa9fd91 of _0x8deac9)_0x110734[_0x2c0918(0xbe)](_0xa9fd91['AffixId'],_0xa9fd91);const _0x3479ed=[],_0x107435=[];for(const _0x21476d of _0x8deac9){const _0x471747=GameConfigMgr_1['g_gameConfigMgr'][_0x2c0918(0xf4)][_0x21476d[_0x2c0918(0xba)]];if(!_0x471747)continue;if(_0x2ccc9f[_0x2c0918(0xcd)](_0x471747['Position'],0x1))_0x3479ed['push'](_0x21476d[_0x2c0918(0xba)]);else{if(_0x2ccc9f[_0x2c0918(0xb9)](_0x471747[_0x2c0918(0xe2)],0x2))_0x107435[_0x2c0918(0xcf)](_0x21476d[_0x2c0918(0xba)]);}}const _0xeab9b=_0x24f10c[_0x2c0918(0xe4)][_0x2d0dfa],_0x460caf=_0x24f10c[_0x2c0918(0xec)][_0x2d0dfa],_0x2364f4=new Set(),_0x585972=new Set(),_0x52045b=new Set();let _0x3918b9=0x0;const _0x1810a8=_0x9b8853=>_0x9b8853['filter'](_0x85ecf3=>!_0x2364f4[_0x2c0918(0xee)](_0x85ecf3)&&!_0x52045b[_0x2c0918(0xee)](_0x85ecf3))[_0x2c0918(0xd9)](_0x691dd6=>{const _0x473a16=_0x2c0918;var _0x1cee29;return{'id':_0x691dd6,'weight':(_0x2ccc9f[_0x473a16(0xcd)](_0x1cee29=_0x110734[_0x473a16(0xb8)](_0x691dd6),null)||_0x2ccc9f[_0x473a16(0xd5)](_0x1cee29,void 0x0)?void 0x0:_0x1cee29[_0x473a16(0xf5)])||0x0};})['filter'](_0xee2c40=>_0xee2c40['weight']>0x0),_0x144a04=_0x2a970f=>{const _0x396bc4=_0x2c0918;var _0x111803,_0x177483;const _0x4ca364=_0x2a970f[_0x396bc4(0xb7)]((_0x3cba74,_0x2ee701)=>_0x3cba74+_0x2ee701[_0x396bc4(0xc4)],0x0);if(_0x2ccc9f['LmpDf'](_0x4ca364,0x0))return null;let _0x45bcf6=Math[_0x396bc4(0xed)]()*_0x4ca364;for(const _0x1018d3 of _0x2a970f){_0x45bcf6-=_0x1018d3['weight'];if(_0x45bcf6<=0x0)return _0x1018d3['id'];}return _0x2ccc9f[_0x396bc4(0xbf)](_0x177483=_0x2ccc9f[_0x396bc4(0xf3)](_0x111803=_0x2a970f[_0x2ccc9f[_0x396bc4(0xef)](_0x2a970f[_0x396bc4(0xe5)],0x1)],null)||_0x2ccc9f[_0x396bc4(0xd4)](_0x111803,void 0x0)?void 0x0:_0x111803['id'],null)&&_0x2ccc9f[_0x396bc4(0xb5)](_0x177483,void 0x0)?_0x177483:null;};while(_0x3918b9<_0xeab9b){const _0x9533c2=_0x2ccc9f[_0x2c0918(0xc1)](_0x1810a8,_0x3479ed),_0x1b39ab=_0x2ccc9f[_0x2c0918(0xe8)](_0x144a04,_0x9533c2);if(!_0x1b39ab)break;const _0x3959b5=this[_0x2c0918(0xb6)](_0x37de14,_0x1b39ab,_0x2d0dfa);_0x2364f4['add'](_0x1b39ab),_0x585972[_0x2c0918(0xe0)]({'id':_0x1b39ab,'value':_0x3959b5}),_0x3918b9++;const _0x372ca6=(_0x1fab46=_0x2ccc9f['iIXEM'](_0x2bf1a2=_0x110734[_0x2c0918(0xb8)](_0x1b39ab),null)||_0x2ccc9f['PwznK'](_0x2bf1a2,void 0x0)?void 0x0:_0x2bf1a2[_0x2c0918(0xd3)])!==null&&_0x1fab46!==void 0x0?_0x1fab46:[];_0x372ca6[_0x2c0918(0xea)](_0x23c44e=>_0x52045b[_0x2c0918(0xe0)](_0x23c44e));}while(_0x2ccc9f[_0x2c0918(0xbd)](_0x585972[_0x2c0918(0xb3)],_0x4dad12)){let _0xd48808=null;const _0x455d86=_0x2ccc9f[_0x2c0918(0xbd)](_0x3918b9,_0x460caf);if(_0x455d86&&_0x2ccc9f[_0x2c0918(0xf2)](Math[_0x2c0918(0xed)](),0.5)){_0xd48808=_0x2ccc9f[_0x2c0918(0xc1)](_0x144a04,_0x2ccc9f[_0x2c0918(0xe1)](_0x1810a8,_0x3479ed));if(_0xd48808)_0x3918b9++;}else _0xd48808=_0x2ccc9f[_0x2c0918(0xd1)](_0x144a04,_0x2ccc9f['evGQB'](_0x1810a8,_0x107435));if(!_0xd48808)break;const _0x44a432=this[_0x2c0918(0xb6)](_0x37de14,_0xd48808,_0x2d0dfa);_0x2364f4[_0x2c0918(0xe0)](_0xd48808),_0x585972[_0x2c0918(0xe0)]({'id':_0xd48808,'value':_0x44a432});}return Array[_0x2c0918(0xd0)](_0x585972);}[a43_0x4d8540(0xb6)](_0x2daf51,_0x42de6f,_0x1295c1){const _0x20db13=a43_0x4d8540,_0x436b5a={'JDIrV':function(_0x4a3c23,_0x4b1a37){return _0x4a3c23>=_0x4b1a37;},'VjMMG':function(_0x20c998,_0x43a52d){return _0x20c998-_0x43a52d;},'xegNV':function(_0x47ca5c,_0x4db2e5){return _0x47ca5c<=_0x4db2e5;},'oFQPr':function(_0x46501b,_0x345b70){return _0x46501b/_0x345b70;},'RdAjg':function(_0xe5e305,_0x4f561a){return _0xe5e305-_0x4f561a;},'CKCSd':function(_0x4d19e6,_0x2b8c6d){return _0x4d19e6*_0x2b8c6d;},'JpCyj':function(_0x136f48,_0x3c9d3){return _0x136f48<_0x3c9d3;}},_0x2fb7c2=GameConfigMgr_1[_0x20db13(0xe9)][_0x20db13(0xf4)][_0x42de6f];if(!_0x2fb7c2)return 0x0;const _0x4bf0d8=_0x2fb7c2[_0x20db13(0xcb)];let _0x495e09=0x0;for(let _0x191b71=0x0;_0x191b71<_0x4bf0d8[_0x20db13(0xe5)];_0x191b71++){if(_0x436b5a['JDIrV'](_0x2daf51,_0x4bf0d8[_0x191b71]))_0x495e09=_0x191b71;else break;}const _0x47a77d=_0x2fb7c2['MinValue'][_0x495e09],_0x413bf6=_0x2fb7c2[_0x20db13(0xce)][_0x495e09],_0x12334c=_0x2fb7c2['DecayFactor'][_0x436b5a['VjMMG'](_0x1295c1,0x1)]/0x2710,_0x2045e7=[],_0x9a7538=[];for(let _0x139f41=_0x47a77d;_0x436b5a[_0x20db13(0xca)](_0x139f41,_0x413bf6);_0x139f41++){_0x2045e7[_0x20db13(0xcf)](_0x436b5a[_0x20db13(0xdc)](0x1,Math[_0x20db13(0xb2)](Math[_0x20db13(0xf1)](_0x436b5a[_0x20db13(0xeb)](_0x139f41,_0x2fb7c2['RangeValue']))+0x1,_0x12334c))),_0x9a7538['push'](_0x139f41);}const _0x2a3a47=_0x2045e7[_0x20db13(0xb7)]((_0x549089,_0x59d55d)=>_0x549089+_0x59d55d,0x0);let _0x479c67=_0x436b5a[_0x20db13(0xdd)](Math[_0x20db13(0xed)](),_0x2a3a47);for(let _0x4b4486=0x0;_0x436b5a[_0x20db13(0xbc)](_0x4b4486,_0x2045e7['length']);_0x4b4486++){_0x479c67-=_0x2045e7[_0x4b4486];if(_0x436b5a[_0x20db13(0xca)](_0x479c67,0x0))return _0x9a7538[_0x4b4486];}return _0x9a7538[_0x436b5a['VjMMG'](_0x9a7538['length'],0x1)];}}function a43_0x38ae(){const _0x216848=['EmvMs','360pryVOJ','evGQB','../../../core/base/SingleBase','11925648sqbUkz','weight','419505SuyJSc','g_affixFactory','80OPWHTO','getInstance','44NyUxvY','xegNV','EquipLevel','1024724AwZJJn','Diccr','MaxValue','push','from','NlDeC','filter','MutExId','PwznK','XmuZQ','ItemLvlReq','15887580ssbXSs','generateAffixes','map','AffixFactory','225617IAnZpd','oFQPr','CKCSd','defineProperty','../../../gameConfig/GameConfigMgr','add','Svhxq','Position','../../../core/manager/SingleFactory','MinPrefixes','length','313434WtyAiJ','AffixAffixGroup','DMtdg','g_gameConfigMgr','forEach','RdAjg','MaxPrefixes','random','has','bcCMZ','__esModule','abs','pmkjh','iIXEM','Affix','Weight','1667612FuWYZk','pow','size','StageReq','DRraC','rollAffixValue','reduce','get','oXoEQ','AffixId','SingleFactory','JpCyj','OOzRz','set'];a43_0x38ae=function(){return _0x216848;};return a43_0x38ae();}exports['AffixFactory']=AffixFactory,exports[a43_0x4d8540(0xc6)]=SingleFactory_1[a43_0x4d8540(0xbb)][a43_0x4d8540(0xc8)](AffixFactory);